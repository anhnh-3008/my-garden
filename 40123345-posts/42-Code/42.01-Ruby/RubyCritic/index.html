<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="![[00 Meta/01 Attachments/01.01 Post/Code/Ruby/RubyCritic Gem/Pasted image 20221020164959.png]]
🌱 RubyCritic cung cấp báo cáo trực quan về những vấn đề như code thối, cấu trúc code, tính dễ kiểm tra, và độ phủ của test case cho app Ruby."><title>🌳 RubyCritic</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://anhhn.netlify.app//icon.png><link href=https://anhhn.netlify.app/styles.93122d67bf9382106f082efbc3cd23eb.min.css rel=stylesheet><link href=https://anhhn.netlify.app/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://anhhn.netlify.app/js/darkmode.183fcede5b91e00cd4379bf6fc1fe35f.min.js></script>
<script src=https://anhhn.netlify.app/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://anhhn.netlify.app/js/popover.9b72b70bd35617d0635e9d15463662b2.min.js></script>
<script src=https://anhhn.netlify.app/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://anhhn.netlify.app/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://anhhn.netlify.app/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://anhhn.netlify.app/",fetchData=Promise.all([fetch("https://anhhn.netlify.app/indices/linkIndex.d07b64979d26826f5690307a05255cda.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://anhhn.netlify.app/indices/contentIndex.91d791c7fa344d0ffdb5cbe093e10ce0.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://anhhn.netlify.app",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://anhhn.netlify.app",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{"’":"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/anhhn.netlify.app\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-HDBMVFQGBH"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HDBMVFQGBH",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://anhhn.netlify.app/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script><h1 id=page-title><a href=https://anhhn.netlify.app/>Home</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>🌳 RubyCritic</h1><p class=meta>Last updated
Oct 20, 2022
<a href=https://github.com/anhnh-3008/quartz/tree/hugo/content/40123345%20posts/42%20Code/42.01%20Ruby/RubyCritic.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://anhhn.netlify.app/tags/post/>Post</a></li><li><a href=https://anhhn.netlify.app/tags/ruby/>Ruby</a></li><li><a href=https://anhhn.netlify.app/tags/analyze/>Analyze</a></li></ul><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#why>🌿Why?</a></li><li><a href=#-internal-dependencies-trong-rubycritic>🌿 Internal dependencies trong Rubycritic</a><ol><li><a href=#-reek-tìm-code-ruby-bốc-mùi->🌱 Reek: Tìm code Ruby bốc mùi 💩</a></li><li><a href=#-flay-kiểm-tra-code-lặp>🌱 Flay: Kiểm tra code lặp</a></li><li><a href=#-flog-kiểm-tra-độ-phức-tạp-trong-code>🌱 Flog: Kiểm tra độ phức tạp trong code</a></li><li><a href=#-other-dependencies>🌱 Other Dependencies</a></li></ol></li><li><a href=#áp-dụng-cho-dự-án-ruby-on-rails>🌿Áp dụng cho dự án Ruby on Rails</a><ol><li><a href=#-overview>🌱 Overview</a></li><li><a href=#-code-report>🌱 Code Report</a></li><li><a href=#-smells-report>🌱 Smells Report</a></li><li><a href=#-coverage-report>🌱 Coverage Report</a></li></ol></li><li><a href=#tham-khảo>☘️Tham khảo</a></li></ol></nav></details></aside><p><img src="/00 Meta/01 Attachments/01.01 Post/Code/Ruby/RubyCritic Gem/Pasted image 20221020164959.png" width=auto class=myImg></p><p>🌱 <code>RubyCritic</code> cung cấp báo cáo trực quan về những vấn đề như code thối, cấu trúc code, tính dễ kiểm tra, và độ phủ của test case cho app Ruby.</p><p>🌱 Đang liên tục phát triển và release tính năng mới. Có trong danh sách
<a href="https://github.com/markets/awesome-ruby#:~:text=Rubycritic-%2D-A-Ruby-code-quality-reporter." rel=noopener>Ruby Awesome</a>.</p><p>🌱 Bài viết này sẽ giới thiệu về một số những lợi ích mà <code>RubyCritic</code> đem lại, các <code>dependencies</code> của nó và cách để đọc <code>code reports</code>.</p><a href=#why><h2 id=why><span class=hanchor arialabel=Anchor># </span>🌿Why?</h2></a><p>🌱 Bạn có thể xem xét sử dụng <code>RubyCritic</code> nếu muốn có một nơi có thể theo dõi sự phát triển của code trong dự án. Áp dụng <code>RubyCritic</code> vào process dự án chắc chắn sẽ giảm được thời gian của team dev cho việc khắc phục <code>Technical debts</code>. Hầu hết các <code>technical debts</code> đều sẽ được phát hiện sớm và &rsquo;trả nợ&rsquo; trong giai đoạn phát triển luôn.</p><blockquote><p>technical debts là gì?
&mldr;
&mldr;
&mldr;</p></blockquote><p>🌱 Một số những lợi ích của <code>RubyCritic</code> khi chúng ta áp dụng cho dự án hay process phát triển:</p><ul><li>Thống nhất thông tin về một nơi duy nhất.</li><li>Báo cáo trực quan</li><li>Cài đặt dễ dàng</li><li>Không config</li><li>Cho phép tùy chỉnh theo nhu cầu sử dụng</li><li>Có thể mở rộng - Là open-source chúng ta có thể tích hợp thêm tính năng của mình.</li><li>Một trình tạo huy hiệu.</li></ul><p>Để hiểu hơn về cách <code>RubyCritic</code> hoạt động, hãy xem những <code>internal dependencies</code> được sử dụng để tạo một report mặt mũi như thế nào nhé!</p><a href=#-internal-dependencies-trong-rubycritic><h2 id=-internal-dependencies-trong-rubycritic><span class=hanchor arialabel=Anchor># </span>🌿 Internal dependencies trong Rubycritic</h2></a><ul><li>Khi bạn thêm <code>RubyCritic</code>, một số dependencies cũng được thêm kèm.</li><li>Điểm qua những dependencies chủ chốt: <code>The Reek</code>, <code>Flay</code>, và <code>Flog</code>. Đây đều là những gem cho phép <code>RubyCritic</code> hiển thị những thông tin hữu ích liên quan đến những code của bạn. Hiểu được cách hoạt động của bọn này sẽ thuận tiện hơn trong việc sử dụng <code>RubyCritic</code>.</li></ul><a href=#-reek-tìm-code-ruby-bốc-mùi-><h3 id=-reek-tìm-code-ruby-bốc-mùi-><span class=hanchor arialabel=Anchor># </span>🌱 Reek: Tìm code Ruby bốc mùi 💩</h3></a><ul><li><a href=https://github.com/troessner/reek rel=noopener>Reek</a> là một gem dùng để tìm những dòng code 💩 trong Ruby. Code thối không phải là code sai, nó là những dòng code có thể được viết dễ đọc hơn, dễ bảo trì hoặc phát triển hơn nhưng vẫn đúng logic với ban đầu.</li><li>Reek sẽ phân tích xem có chỗ nào bốc mùi nhưng sẽ không gợi ý là sửa như thế nào vì hầu như code &lsquo;có mùi&rsquo; đều liên quan đến business logic hoặc dựa theo kinh nghiệm của lập trình viên đối với một ngôn ngữ lập trình.</li></ul><blockquote><p>Reek chỉ đánh giá được theo hướng chủ quan, nên chúng ta cũng nên cân nhắc thêm dựa theo logic của dự án cũng như kinh nghiệm của bản thân trước khi quyết định sửa code.</p></blockquote><ul><li><p>Reek cung cấp  
<a href=https://github.com/troessner/reek/blob/master/docs/Code-Smells rel=noopener>extensive list of smells</a>. Kiểm tra và chỉ ra những chỗ bốc mùi trong:</p><ul><li>Classes</li><li>Attributes</li><li>Methods</li><li>Parameters</li><li>Moduldes</li><li>Iterators</li><li>The implementation of polymorphism</li></ul></li><li><p>Nhờ đó chúng ta sẽ chủ động trong việc làm cho code dễ đọc và dễ bảo trì hơn.</p></li><li><p>Cho phép config để:</p><ul><li>Tắt kiểm tra những rule ko phù hợp với dự án.</li><li>Chỉ định các thư mục không cần kiểm tra.</li><li>Sử dụng filter để tắt tiếng cảnh báo.</li></ul></li></ul><a href=#-flay-kiểm-tra-code-lặp><h3 id=-flay-kiểm-tra-code-lặp><span class=hanchor arialabel=Anchor># </span>🌱 Flay: Kiểm tra code lặp</h3></a><ul><li><p><a href=https://ruby.sadi.st/Flay.html rel=noopener>Flay</a> xác định những điểm tương đồng trong cấu trúc code, bao gồm:</p><ul><li>Tìm ra code bị lặp lại trong dự án.</li><li>Cho điểm để đánh giá mức độ tốt của code(điểm càng thấp, code càng ngon).</li><li>Checking the difference at any code level.</li></ul></li><li><p>Nếu Flay báo cáo có sự trùng lặp trong code, khả năng cao chúng ta nên sửa nó. Đừng bỏ qua vì nó rất có khả năng dẫn đến bugs. Khi bạn fix thêm gì đó ở một chỗ nhưng quên sửa những chỗ còn lại thì có khả năng bug sẽ xuất hiện đó.</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-rb data-lang=rb><span class=line><span class=cl><span class=c1># lib/flay.rb:80</span>
</span></span><span class=line><span class=cl><span class=n>opts</span><span class=o>.</span><span class=n>on</span><span class=p>(</span><span class=s2>&#34;-m&#34;</span><span class=p>,</span> <span class=s2>&#34;--mass MASS&#34;</span><span class=p>,</span> <span class=nb>Integer</span><span class=p>,</span> <span class=s2>&#34;Sets mass threshold (default = </span><span class=si>#{</span><span class=n>options</span><span class=o>[</span><span class=ss>:mass</span><span class=o>]</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span> <span class=k>do</span> <span class=o>|</span><span class=n>m</span><span class=o>|</span>
</span></span><span class=line><span class=cl>  <span class=n>options</span><span class=o>[</span><span class=ss>:mass</span><span class=o>]</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>to_i</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># lib/flay.rb:105</span>
</span></span><span class=line><span class=cl><span class=n>opts</span><span class=o>.</span><span class=n>on</span><span class=p>(</span><span class=s2>&#34;-t&#34;</span><span class=p>,</span> <span class=s2>&#34;--timeout TIME&#34;</span><span class=p>,</span> <span class=nb>Integer</span><span class=p>,</span> <span class=s2>&#34;Set the timeout. (default = </span><span class=si>#{</span><span class=n>options</span><span class=o>[</span><span class=ss>:timeout</span><span class=o>]</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span> <span class=k>do</span> <span class=o>|</span><span class=n>t</span><span class=o>|</span>
</span></span><span class=line><span class=cl>  <span class=n>options</span><span class=o>[</span><span class=ss>:timeout</span><span class=o>]</span> <span class=o>=</span> <span class=n>t</span><span class=o>.</span><span class=n>to_i</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><p>Kiểm tra:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ flay lib/flay.rb
</span></span><span class=line><span class=cl>Total score <span class=o>(</span>lower is better<span class=o>)</span> <span class=o>=</span> <span class=m>36</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>1<span class=o>)</span> Similar code found in :iter <span class=o>(</span><span class=nv>mass</span> <span class=o>=</span> 36<span class=o>)</span>
</span></span><span class=line><span class=cl>  lib/flay.rb:80
</span></span><span class=line><span class=cl>  lib/flay.rb:105
</span></span></code></pre></div><p>Mặc dù nội dung bên trong không giống nhau hoàn toàn nhưng cấu trúc code có thể được cấu trúc lại để tránh trùng lặp. Đó là magic của Flay.</p><blockquote><p>Flay đánh giá trùng lặp dựa trên cấu trúc code, nếu điểm trùng lặp càng thấp có nghĩa code chúng ta càng ngon(dry). Tuy nhiên, chúng ta vẫn cần đánh giá thêm cả về logic của dự án trước khi sửa nhé.</p></blockquote><a href=#-flog-kiểm-tra-độ-phức-tạp-trong-code><h3 id=-flog-kiểm-tra-độ-phức-tạp-trong-code><span class=hanchor arialabel=Anchor># </span>🌱 Flog: Kiểm tra độ phức tạp trong code</h3></a><p><a href=https://ruby.sadi.st/Flog.html rel=noopener>Flog</a> kiểm tra xem độ phức tạp của code(code khó đọc). Flog gán điểm phức tạp cho từng dòng sau đó tính tổng cho mỗi method hoặc class.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rb data-lang=rb><span class=line><span class=cl><span class=k>def</span> <span class=nf>validate_expiration</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>if</span> <span class=n>exp_month</span><span class=o>.</span><span class=n>blank?</span> <span class=o>||</span> <span class=n>exp_year</span><span class=o>.</span><span class=n>blank?</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><p>Kiểm tra:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ flog app/models/credit_card.rb
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>5.2: CreditCard#validate_expiration   app/models/credit_card.rb:12-15
</span></span></code></pre></div><ul><li>Độ phức tạp đang là 5.2, giờ mình sẽ sửa để nó dễ đọc hơn một chút</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-rb data-lang=rb><span class=line><span class=cl><span class=k>def</span> <span class=nf>validate_expiration</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>if</span> <span class=n>exp_month</span><span class=o>.</span><span class=n>blank?</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>if</span> <span class=n>exp_year</span><span class=o>.</span><span class=n>blank?</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><p>Kiểm tra:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ flog app/models/credit_card.rb
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>4.8: CreditCard#validate_expiration app/models/credit_card.rb:12-15
</span></span></code></pre></div><blockquote><p>Viết code là trò chơi đơn giản, nhưng để viết code đơn giản, dễ hiểu thì lại khó nhất trên đời 😆 Đừng cố viết cao siêu làm gì, hãy viết code thật dễ hiểu, hiệu quả để những người đồng nghiệp đọc code của bạn không phải chửi thầm nhé ❤️</p></blockquote><a href=#-other-dependencies><h3 id=-other-dependencies><span class=hanchor arialabel=Anchor># </span>🌱 Other Dependencies</h3></a><ul><li>Ngoài ra <code>RubyCritic</code> còn có nhiều dependencies khác, có cả những gem phổ biến mà chúng ta vẫn thường dùng như <code>buybug</code>, <code>simpleCov</code>, <code>rubocop</code>. Mọi người có thể xem đầy đủ các dependencies ở
<a href=https://github.com/whitesmith/rubycritic/blob/main/rubycritic.gemspec rel=noopener>đây</a>.</li></ul><a href=#áp-dụng-cho-dự-án-ruby-on-rails><h2 id=áp-dụng-cho-dự-án-ruby-on-rails><span class=hanchor arialabel=Anchor># </span>🌿Áp dụng cho dự án Ruby on Rails</h2></a><ul><li><code>RubyCritic</code> cung cấp tài liệu chi tiết để bắt đầu mà không cần config nhiều. Trong khuôn khổ bài viết này, chúng ta sẽ tập trung cho việc phân tích những thông số có trong những báo cáo của <code>RubyCritic</code>.</li><li>Có 3 vấn đề được báo cáo là <code>Code</code>, <code>Smells</code> và <code>Coverage</code>. Cùng lược qua từng tính năng này nhé!</li></ul><a href=#-overview><h3 id=-overview><span class=hanchor arialabel=Anchor># </span>🌱 Overview</h3></a><p>Sau khi chạy <code>rubycritic</code> xong, tự động redirect tới một trang html chứa các reports của dự án.</p><p><img src="/00 Meta/01 Attachments/01.01 Post/Code/Ruby/RubyCritic Gem/Pasted image 20221020153521.png" width=auto class=myImg></p><ul><li>Màn <code>Overview</code> hiển thị tổng điểm của dự án trên một cái biểu đồ donut, xếp hạng theo A là tốt nhất và F là tệ nhất.</li><li>Phần <code>Summary</code> hiển thị chi tiết của từng rating (A -> F) bao gồm số lượng files, số lượng commit(churns) và số lượng smell code được tìm thấy.</li><li><code>Churn vs Complexity</code> hiển thị vị trí các Class/Module là một điểm, ứng với 2 chỉ số độ phức tạp và số lượng commit => phản ánh chính xác những điểm chưa tốt của dự án.</li></ul><a href=#-code-report><h3 id=-code-report><span class=hanchor arialabel=Anchor># </span>🌱 Code Report</h3></a><ul><li>Hiển thị điểm của từng Class/Module bao gồm <code>churn</code>, <code>complexity</code>, <code>duplication</code> and <code>smells</code>.</li><li>Bạn có thể sort theo từng chỉ số để tiện đánh giá.</li><li>Có thể search tên của Class/Module.</li></ul><p><img src="/00 Meta/01 Attachments/01.01 Post/Code/Ruby/RubyCritic Gem/Pasted image 20221020154211.png" width=auto class=myImg></p><ul><li><p>Click vào một Class/Module bất kỳ sẽ hiển thị chi tiết source code và các số liệu đi kèm như:</p><ul><li>Code line</li><li>Chất lượng code</li><li>Churn</li><li>Độ phức tạp của method</li><li>Điểm phức tạp(tổng của class)</li><li>Số lượng code bị duplicates.</li><li>Số lượng smells tìm thấy.</li></ul></li><li><p>Những dòng code có vấn đề sẽ được highlight(Dựa theo thông tin cả Reek gem cung cấp)</p></li></ul><p><img src="/00 Meta/01 Attachments/01.01 Post/Code/Ruby/RubyCritic Gem/Pasted image 20221020155314.png" width=auto class=myImg></p><a href=#-smells-report><h3 id=-smells-report><span class=hanchor arialabel=Anchor># </span>🌱 Smells Report</h3></a><ul><li>Hiển thị smell type, vị trí chính xác nơi bốc mùi và tình trạng khắc phục.</li><li>Như đã nói ở trên, Smells được cung cấp bởi gem Reek, và màn này chúng ta cũng có thể search và sort được như <code>Code Report</code>.</li><li>Bạn có thể nhìn thấy các class/module được nhóm theo smell type.</li></ul><p><img src="/00 Meta/01 Attachments/01.01 Post/Code/Ruby/RubyCritic Gem/Pasted image 20221020162956.png" width=auto class=myImg></p><a href=#-coverage-report><h3 id=-coverage-report><span class=hanchor arialabel=Anchor># </span>🌱 Coverage Report</h3></a><p><img src="/00 Meta/01 Attachments/01.01 Post/Code/Ruby/RubyCritic Gem/Pasted image 20221020164032.png" width=auto class=myImg></p><ul><li>Chỉ hiển thị thông số độ bao phủ của kiếm thử đối với những class/module.</li><li>Không thể sắp xếp hoặc tìm kiếm như 2 trang bên trên.</li><li>Nếu tích hợp <code>SimpleCov</code> thì sẽ chi tiết và trực quan hơn, nhưng với hầu hết trường hợp chỉ cần một báo cáo đơn giản để đánh giá độ phủ của dự án, <code>Coverage Report</code> đã hoàn toàn đáp ứng được rồi.</li></ul><a href=#tham-khảo><h2 id=tham-khảo><span class=hanchor arialabel=Anchor># </span>☘️Tham khảo</h2></a><ul><li><a href=https://github.com/whitesmith/rubycritic rel=noopener>https://github.com/whitesmith/rubycritic</a></li><li><a href=https://blog.appsignal.com/2022/10/19/improve-code-in-your-ruby-application-with-rubycritic.html rel=noopener>https://blog.appsignal.com/2022/10/19/improve-code-in-your-ruby-application-with-rubycritic.html</a></li></ul><div id=modalShowImage class=modal><span class=close>&#215;</span>
<img class=modal-content id=modal-content-img></div><script>$(".myImg").on("click",function(){$("#modalShowImage").css("display","block"),$("#modal-content-img").attr("src",this.src),$("body").addClass("modal-open")}),$("#modalShowImage").on("hidden.bs.modal",function(){$("body").removeClass("modal-open")}),$("#modalShowImage").on("click",".close",function(){$("#modalShowImage").css("display","none"),$("body").removeClass("modal-open")})</script></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://anhhn.netlify.app/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by anhnh using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><ul><li><a href=https://anhhn.netlify.app/>Home</a></li><li><a href="https://www.facebook.com/profile.php?id=100026527598703">Facebook</a></li><li><a href=https://github.com/anhnh-3008>Github</a></li></ul></footer></div></div></body></html>